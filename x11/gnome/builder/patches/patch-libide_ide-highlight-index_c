$OpenBSD: patch-libide_ide-highlight-index_c,v 1.2 2015/04/14 08:32:22 ajacoutot Exp $

From a7508c8c8b61d1f9c4735021a4e3dcd952dd7fef Mon Sep 17 00:00:00 2001
From: Antoine Jacoutot <ajacoutot@gnome.org>
Date: Tue, 14 Apr 2015 09:43:14 +0200
Subject: portability: use sysconf(3) to get PAGE_SIZE

--- libide/ide-highlight-index.c.orig	Tue Apr 14 09:39:12 2015
+++ libide/ide-highlight-index.c	Tue Apr 14 09:40:00 2015
@@ -21,6 +21,7 @@
 #include <string.h>
 #include <sys/types.h>
 #include <sys/user.h>
+#include <unistd.h>
 
 #include "ide-debug.h"
 #include "ide-highlight-index.h"
@@ -47,7 +48,7 @@ ide_highlight_index_new (void)
 
   ret = g_new0 (IdeHighlightIndex, 1);
   ret->ref_count = 1;
-  ret->strings = g_string_chunk_new (PAGE_SIZE);
+  ret->strings = g_string_chunk_new (sysconf (_SC_PAGE_SIZE));
   ret->index = g_hash_table_new (g_str_hash, g_str_equal);
 
   return ret;
