$OpenBSD: patch-src_print_wireless_info_c,v 1.8 2015/04/04 16:07:16 jasper Exp $

From e91891729e799e45561c707768269bb755ca34e9 Mon Sep 17 00:00:00 2001
From: Jasper Lievisse Adriaanse <jasper@humppa.nl>
Date: Sat, 4 Apr 2015 10:56:58 +0200
Subject: [PATCH] Use the maximum rssi, not the scaled percentage for the signal level.

--- src/print_wireless_info.c.orig	Sat Apr  4 10:51:30 2015
+++ src/print_wireless_info.c	Sat Apr  4 10:52:18 2015
@@ -308,10 +308,9 @@ static int get_wireless_info(const char *interface, wi
             strlcpy(nr.nr_ifname, interface, sizeof(nr.nr_ifname));
 
             if (ioctl(s, SIOCG80211NODE, &nr) == 0 && nr.nr_rssi) {
+                info->signal_level = nr.nr_rssi;
                 if (nr.nr_max_rssi)
-                    info->signal_level_max = IEEE80211_NODEREQ_RSSI(&nr);
-                else
-                    info->signal_level = nr.nr_rssi;
+                    info->signal_level_max = nr.nr_max_rssi;
 
                 info->flags |= WIRELESS_INFO_FLAG_HAS_SIGNAL;
             }
