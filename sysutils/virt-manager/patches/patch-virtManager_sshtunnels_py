$OpenBSD: patch-virtManager_sshtunnels_py,v 1.1 2015/05/06 09:59:14 jasper Exp $

Revert:
From a2d453f3e20d103a4767394300c5183fde9a6bb4 Mon Sep 17 00:00:00 2001
From: Giuseppe Scrivano <gscrivan@redhat.com>
Date: Fri, 24 Apr 2015 11:01:43 +0200
Subject: sshtunnels: use ipaddr to check if address is loopback or unspecified

details: https://bugzilla.redhat.com/show_bug.cgi?id=1218958

--- virtManager/sshtunnels.py.orig	Wed May  6 11:56:14 2015
+++ virtManager/sshtunnels.py	Wed May  6 11:56:49 2015
@@ -48,10 +48,10 @@ class ConnectionInfo(object):
             self._connhost = "127.0.0.1"
 
     def _is_listen_localhost(self, host=None):
-        return ipaddr.IPNetwork(host or self.gaddr).is_loopback
+        return (host or self.gaddr) in ["127.0.0.1", "::1"]
 
     def _is_listen_any(self):
-        return ipaddr.IPNetwork(self.gaddr).is_unspecified
+        return self.gaddr in ["0.0.0.0", "::"]
 
     def need_tunnel(self):
         if not self._is_listen_localhost():
